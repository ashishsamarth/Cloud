-----------------------------------------------------------------------------------------------------------------------------------------------------------
AWS - Route 53 : Managed DNS
-----------------------------------------------------------------------------------------------------------------------------------------------------------

Route53 is a managed DNS (Domain Name System). A DNS is a collection of rules and records, which helps clients to understand how to reach a server through 
its domain name.

In AWS: The most comman records as 
a.  'A' record: Hostname to IPV4
b.  'AAAA' record:  Hostname to IPV6
c.  'CNAME' record: Hostname to Hostname
d.  'Alias' record: hostname to AWS resource

Route 53 can use:
    a.  public domain names you own (or buy)
    b.  private domain names that can be resolved by your instances in your VPCs

Features:
    a.  Load Balancing [Through DNS : Also called client load balancing]
    b.  Health Checks [limited]
    c.  Routing Policy: [simple; failover; geolocation; latency; weighted, multi value]

Cost:
    $0.50 per month per hosted zone


    Q01: How to navigate to Route 53?
    A01: On the AWS management console, search for 'Route 53' and you will be able to navigate to Route 53 dashboard.

    Q02: Can you purchase a domain directly from Route 53?
    A02: Yes, we can purchase a domain directly from Route 53. Following are the steps:
        a.  On the Route 53 Dashboard, under the left vertical menu, click on 'Registered domains' under 'Domains'
        b.  Click on 'Register domain'
        c.  Next screen is - 'Choose a domain name', search a domain name of your choice to check its availability and the price.
        d.  Then 'Add to Cart' and click on 'buy' for one year
        e.  Provide your contact details and update your privacy options.

    Q03: Is the 'Hosted Zone' created automatically, if you buy a domain from Route 53 dashboard?
    A03: Yes, a 'Hosted Zone' is created automatically, if we buy a domain from the Route 53 dashboard.

    Q04: How to create a record set in the hosted zone?
    A04: Once you have a registered domain, On the left vertical menu, click on 'Hosted Zone'
        a.  To create a new record set, 'Click on Record Set'
            1.  Provide a Name for the recrd set
            2.  Select the type of record ('A' or 'AAAA', 'CNAME' , 'Alias')
            3.  Define Time to Live (TTL) (multiple options in seconds, minutes, hours and day)
            4.  Provide the value based on the record type [for 'A' record, it will be an ipv4 address]
            5.  From the 'Routing Policy' select 'Simple'
            6.  Click on 'Create'
    
    Q05: How to verify if the DNS record created in Route 53, actually works?
    A05: Their are two ways to verify if the DNS record created in Route 53 works:
        a.  If the record set created was of type 'A', it means the record set will have an IPV4 address.
            1.  Simply search for the host on the browser and check on browser console logs to see the resolving IP address
                for e.g.: myfirstrecord.ashishsamarth.com
        b.  Another way to verify is to perform an nslookup / dig for the same host via Linux / Mac Terminal, and the terminal should return the 
            same ipv4 address.

    Q06: What is DNS records - TTL (Time to Live)?
    A06: When you look for a URL address based on a hostname, the browser talks to the DNS asking for the IP Address to connect to. Since this is a 'Hostname'
         to 'IP' request, it eventualy 'A' record. When the DNS responds with the 'A' record, it sends the browser two items, the first is the 'IP' address 
         of the host and another parameter is 'TTL' (Time to Live), this TTL has an expiration value (in seconds/ mins/ hours / a day). This means, that the 
         browser can save the IP address in its cache for the TTL value. Now if another tab on the browser, looks for the same 'Hostname' it will not call the
         DNS, it will look inside its own cache first (if TTL has not expired) to get the 'IP'.

         Special Note:
         a. TTL is a mandatory parameter for each DNS record
         b. Having a HIGH TTL Value means:
            1.  Less traffic on DNS for querying the IP address based on supported parameters
            2.  Possibly outdated records in the client browser, in case the records in DNS was updated before the TTL expiration
         c. Having a LOW TTL value means:
            1.  High traffic on DNS for querying the IP Address based on supported parameters
            2.  Records in Client Browser Cache will be outdated for less duration
            3.  Newly updated records in DNS, will be propogated quickly to client browsers.
            
